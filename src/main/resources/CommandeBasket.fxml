<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="800" prefWidth="1500" stylesheets="@style/dashboardDesign.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controllers.CommandeBasket">
    <HBox alignment="CENTER" spacing="20" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="10.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="10.0">
        <!-- Shopping Cart Items -->
        <VBox prefHeight="694.0" prefWidth="631.0" spacing="10" styleClass="white-bg shadow" VBox.vgrow="ALWAYS">
            <Label styleClass="title" text="Shopping Cart" />
            <ListView fx:id="selectedCommandesListView" prefHeight="696.0" prefWidth="626.0" VBox.vgrow="ALWAYS">
                <!-- Custom cell factory to handle cart items -->
            </ListView>
            <HBox alignment="CENTER_LEFT">
                <Button text="← Back to shop" />
            </HBox>
        </VBox>

        <!-- Summary Section -->
        <VBox prefHeight="779.0" prefWidth="466.0" spacing="10" styleClass="white-bg shadow">
            <Label styleClass="title" text="Summary" />
            <HBox>
                <Label text="Items:" />
                <Label fx:id="itemsCount" text="0 Items" HBox.hgrow="ALWAYS" />
            </HBox>
            <HBox>
                <Label text="Shipping:" />
                <Label fx:id="shippingCost" text="€0.00" />
            </HBox>
            <TextField fx:id="codeField" promptText="Enter your code" />
            <HBox>
                <Label text="Total Price:">
               <HBox.margin>
                  <Insets left="25.0" top="150.0" />
               </HBox.margin></Label>
                <Label fx:id="totalPriceLabel" text="€0.00">
               <HBox.margin>
                  <Insets left="20.0" top="150.0" />
               </HBox.margin></Label>
            </HBox>
            <Button onAction="#handleCheckout" styleClass="button" text="CHECKOUT">
            <VBox.margin>
               <Insets left="175.0" top="50.0" />
            </VBox.margin></Button>
        </VBox>
    </HBox>
</AnchorPane>
